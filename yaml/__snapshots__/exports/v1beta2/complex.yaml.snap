
[TestYAMLGeneratorSuite/TestExamples - 1]
version: v1beta2
namespace: data-team-pipeline
entities:
    - id: bq-synq-dwh::petr::kernel_assets__stg_assets
      time_partitioning_column: created_at
      monitors:
        - id: c20b07ae-27f5-50ff-ab17-7b11bed097dd
          type: volume
          name: volume_on_logs
          filter: country IN ('US', 'CA')
          severity: WARNING
          mode:
            anomaly_engine:
                sensitivity: BALANCED
          segmentation:
            expression: country
          schedule:
            type: daily
            query_delay: 2h0m0s
    - id: bq-synq-dwh::test::orders
      time_partitioning_column: created_at
      monitors:
        - id: 911f832a-8ce5-5b14-930d-28d37a4f37b3
          type: field_stats
          name: stats_on_user_fields
          severity: ERROR
          mode:
            anomaly_engine:
                sensitivity: BALANCED
          schedule: daily
          columns:
            - status
            - order_date
        - id: 9769be77-e584-5bd5-8289-8321b4a01f4f
          type: custom_numeric
          name: custom_numeric_active_users
          severity: ERROR
          mode:
            fixed_thresholds:
                min: 100
                max: 10000
          schedule:
            type: daily
            query_delay: 2h0m0s
          metric_aggregation: COUNT(DISTINCT user_id)
    - id: ch-prod::anomalies::corrections_v2
      time_partitioning_column: created_at
      monitors:
        - id: e90ecd7b-111d-5f14-9da7-e94c08f67655
          type: freshness
          name: freshness_on_orders
          severity: WARNING
          mode:
            anomaly_engine:
                sensitivity: BALANCED
          schedule:
            type: daily
            query_delay: 2h0m0s
          expression: created_at
    - id: ch-prod::anomalies::external_sqltests
      time_partitioning_column: created_at
      monitors:
        - id: 24a0e18e-5ef3-5269-ba2b-fbec88270430
          type: freshness
          name: freshness_on_orders
          severity: WARNING
          mode:
            anomaly_engine:
                sensitivity: BALANCED
          schedule:
            type: daily
            query_delay: 2h0m0s
          expression: created_at

---
