version: v1beta2

defaults:
  severity: ERROR
  timezone: UTC

entities:
  - id: ch-prod.default.orders
    time_partitioning_column: created_at

    monitors:
      - volume:
          id: orders_volume
          name: Orders Volume Monitor

      - freshness:
          id: orders_freshness
          name: Orders Freshness Monitor
          expression: created_at

      - custom_numeric:
          id: orders_revenue
          name: Orders Revenue Monitor
          metric_aggregation: SUM(amount)

      - field_stats:
          id: orders_field_stats
          name: Orders Field Statistics
          columns:
            - status
            - payment_method
