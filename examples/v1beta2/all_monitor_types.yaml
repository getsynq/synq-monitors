version: v1beta2

defaults:
  severity: ERROR
  timezone: UTC

entities:
  - id: ch-prod.default.orders
    time_partitioning_column: created_at

    monitors:
      - type: volume
        id: orders_volume
        name: Orders Volume Monitor

      - type: freshness
        id: orders_freshness
        name: Orders Freshness Monitor
        expression: created_at

      - type: custom_numeric
        id: orders_revenue
        name: Orders Revenue Monitor
        metric_aggregation: SUM(amount)

      - type: field_stats
        id: orders_field_stats
        name: Orders Field Statistics
        columns:
          - status
          - payment_method
